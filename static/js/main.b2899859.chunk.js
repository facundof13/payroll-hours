(this["webpackJsonppayroll-hours"]=this["webpackJsonppayroll-hours"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(24),i=a.n(s),o=(a(54),a(55),a(34)),u=a(21),l=a(7),h=a(8),c=a(10),d=a(9),m=a(12),p=a(11),f=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.rate;return r.a.createElement("div",null,r.a.createElement("label",null,"Enter hourly pay rate:"),r.a.createElement("input",{type:"number",value:t,onChange:function(t){e.props.onRateChange(t)}}))}}]),t}(r.a.Component),b=a(43),M=a.n(b),E=(a(56),function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"pickers"},r.a.createElement("div",null,r.a.createElement("label",null,"Enter a starting payroll date:"),r.a.createElement(M.a,{todayButton:"Today",selected:this.props.firstDate,onChange:function(t){e.props.onDateChange(t,"firstDate")}})),r.a.createElement("div",null,r.a.createElement("label",null,"Enter an ending date:"),r.a.createElement(M.a,{todayButton:"Today",selected:this.props.secondDate,onChange:function(t){e.props.onDateChange(t,"secondDate")}})))}}]),t}(r.a.Component)),v=a(5),y=a.n(v),g={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={inHour:"",inMinute:"",inAMorPM:"AM",outHour:"",outMinute:"",outAMorPM:"PM",breakStartHour:"",breakStartMinute:"",breakStartAMorPM:"PM",breakEndHour:"",breakEndMinute:"",breakEndAMorPM:"PM"},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.fixText=a.fixText.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=this;e.persist(),e.target.value.length<=2&&this.setState((function(){return Object(u.a)({},e.target.name,e.target.value)}),(function(){t.checkIfAllSatisfied()&&t.separateHours()}))}},{key:"fixText",value:function(e){e.persist(),1==e.target.value.length&&this.setState((function(){var t="0".concat(e.target.value);return Object(u.a)({},e.target.name,t)}))}},{key:"checkIfAllSatisfied",value:function(){return""!==this.state.inHour&&""!==this.state.inMinute&&""!==this.state.outHour&&""!==this.state.outMinute}},{key:"separateHours",value:function(){var e=y()(new Date(this.props.date));e.hour(this.state.inHour),e.minute(this.state.inMinute),"PM"===this.state.inAMorPM&&e.add(12,"hours");var t=y()(new Date(this.props.date));if(t.hour(this.state.outHour),t.minute(this.state.outMinute),"PM"===this.state.outAMorPM&&t.add(12,"hours"),console.log(""!==this.state.breakStartMinute&&""!==this.state.breakEndMinute),""!==this.state.breakStartMinute&&""!==this.state.breakEndMinute){var a=y()(this.props.date);a.hour(this.state.breakStartHour),a.minute(this.state.breakStartMinute),"PM"===this.state.breakStartAMorPM&&a.add(12,"hours");var n=y()(this.props.date);n.hour(this.state.breakEndHour),n.minute(this.state.breakEndMinute),"PM"===this.state.breakEndAMorPM&&n.add(12,"hours"),this.findHoursWorked(e,t,a,n)}else this.findHoursWorked(e,t,0,0)}},{key:"findHoursWorked",value:function(e,t,a,n){var r=t.diff(e)/36e5;a&&n&&(r-=n.diff(a)/36e5);this.props.sendHours({date:this.props.date,hours:Math.floor(r),minutes:Math.floor(60*(r-Math.floor(r)))})}},{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,g[y()(this.props.date).day()]+", "+this.props.date),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"inHour",placeholder:"00",value:this.state.inHour,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",name:"inMinute",placeholder:"00",value:this.state.inMinute,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("select",{name:"inAMorPM",value:this.state.inAMorPM,onChange:this.handleChange},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM"))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"outHour",placeholder:"00",value:this.state.outHour,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",name:"outMinute",placeholder:"00",value:this.state.outMinute,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("select",{name:"outAMorPM",value:this.state.outAMorPM,onChange:this.handleChange},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM"))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"breakStartHour",placeholder:"00",value:this.state.breakStartHour,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",name:"breakStartMinute",placeholder:"00",value:this.state.breakStartMinute,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("select",{name:"breakStartAMorPM",value:this.state.breakStartAMorPM,onChange:this.handleChange},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM")),r.a.createElement("input",{type:"text",name:"breakEndHour",placeholder:"00",value:this.state.breakEndHour,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",name:"breakEndMinute",placeholder:"00",value:this.state.breakEndMinute,onChange:this.handleChange,onBlur:this.fixText}),r.a.createElement("select",{name:"breakEndAMorPM",value:this.state.breakEndAMorPM,onChange:this.handleChange},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM"))),r.a.createElement("td",null,""!==this.props.hours?this.props.hours+" hours and "+this.props.minutes+" minutes":""))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(a.props),a.receiveHoursInDay=a.receiveHoursInDay.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"receiveHoursInDay",value:function(e){this.props.adjustArray(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"greyGridTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"In time"),r.a.createElement("th",null,"Out time"),r.a.createElement("th",null,"Break start and end times"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.props.dateArr.map((function(t){return r.a.createElement(k,{key:t.date,sendHours:e.receiveHoursInDay,date:t.date,hours:t.hours,minutes:t.minutes})})))))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={rate:13,firstDate:null,secondDate:null,dateArr:[],sumHours:0,sumMinutes:0},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(m.a)(a)),a.adjustArray=a.adjustArray.bind(Object(m.a)(a)),a.calculateTotalHours=a.calculateTotalHours.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({rate:e.target.value})}},{key:"handleDateChange",value:function(e,t){var a,n=this;this.setState((a={},Object(u.a)(a,t,e),Object(u.a)(a,"dateArr",[]),a),(function(){n.findDifferenceOfDays()}))}},{key:"findDifferenceOfDays",value:function(){var e=this;this.state.firstDate&&this.state.secondDate&&(y()(this.state.secondDate).isBefore(y()(this.state.firstDate))||y()(this.state.firstDate).isAfter(y()(this.state.secondDate))||this.setState({daysDifference:y()(this.state.secondDate).diff(y()(this.state.firstDate),"days")+1},(function(){e.populateArray()})))}},{key:"populateArray",value:function(){for(var e=[],t=0;t<this.state.daysDifference;t++)e.push({date:y()(this.state.firstDate).add(t,"d").format("MMMM DD YYYY"),hours:"",minutes:""}),e.sort((function(e,t){return y()(e.date).isAfter(y()(t.date))}));this.setState({dateArr:e})}},{key:"adjustArray",value:function(e){console.log(e);var t=Object(o.a)(this.state.dateArr),a=[].concat(Object(o.a)(t.filter((function(t){return t.date!==e.date}))),[e]);a.sort((function(e,t){return y()(e.date).isAfter(y()(t.date))})),this.setState((function(){return{dateArr:Object(o.a)(a)}}))}},{key:"calculateTotalHours",value:function(){var e=0,t=0;this.state.dateArr.map((function(a){a.hours&&(e+=Number(a.hours)),a.minutes&&(t+=Number(a.minutes))}));var a=e+Math.floor(t/60),n=t%60;return console.log("Hours: ".concat(a," Minutes: ").concat(n)),{totalhours:a,totalMinutes:n}}},{key:"render",value:function(){var e=this.calculateTotalHours();return r.a.createElement("div",null,r.a.createElement(f,{onRateChange:this.handleChange,rate:this.state.rate}),r.a.createElement(E,{firstDate:this.state.firstDate,secondDate:this.state.secondDate,onDateChange:this.handleDateChange}),r.a.createElement(j,{dateArr:this.state.dateArr,adjustArray:this.adjustArray}),e.totalhours>0?r.a.createElement("div",{className:"totalPay"},r.a.createElement("p",null,e.totalhours+" hours and "+e.totalMinutes+" minutes")):"",r.a.createElement("p",null,"Total Pay (before taxes):"," ",r.a.createElement("strong",null,(e.totalhours*this.state.rate+e.totalMinutes*(this.state.rate/60)).toLocaleString("en-US",{style:"currency",currency:"USD"}))))}}]),t}(r.a.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,"Made by Facundo Figueroa. Check out the repo on ",r.a.createElement("a",{href:"https://github.com/facundof13/payroll-hours",target:"_blank"},"github"))}}]),t}(r.a.Component);var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,{className:"main-app"}),r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){e.exports=a(105)},54:function(e,t,a){},55:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.b2899859.chunk.js.map